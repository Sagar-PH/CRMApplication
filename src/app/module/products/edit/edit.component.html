<div class="product-edit-page" *ngIf="requested_data">

    <!-- Header -->
    <div class="page-header">
        <h2>Edit Product</h2>
        <span class="product-id">Product #{{ requested_data.row_id }}</span>
    </div>

    <!-- Form -->
    <form #ProductEditForm="ngForm" (ngSubmit)="ProductEditSubmit(ProductEditForm)" novalidate class="edit-form">

        <!-- Hidden ID -->
        <input type="hidden" name="productId" [(ngModel)]="requested_data.row_id" />

        <div class="form-grid">

            <div class="form-group">
                <label>Product Name *</label>
                <input type="text" name="name" [(ngModel)]="requested_data.Name" required
                    placeholder="Enter product name" />
            </div>

            <div class="form-group">
                <label>SKU / Product Code *</label>
                <input type="text" name="sku" [(ngModel)]="requested_data.SKU" required
                    placeholder="Enter SKU or product code" />
            </div>

            <div class="form-group">
                <label>Category *</label>
                <!-- Hidden input for category name -->
                <input type="text" name="categoryName" [(ngModel)]="requested_data.CategoryName" hidden />

                <select name="categoryId" [(ngModel)]="requested_data.CategoryId" required>
                    <option value="" disabled>Select a category</option>
                    <option *ngFor="let c of categories" [value]="c._id">{{ c.name }}</option>
                </select>
            </div>

            <div class="form-group">
                <label>Unit *</label>
                <select name="unit" [(ngModel)]="requested_data.Unit" required>
                    <option value="pcs">Pieces</option>
                    <option value="kg">Kg</option>
                    <option value="litre">Litre</option>
                </select>
            </div>

            <div class="form-group">
                <label>Price *</label>
                <input type="number" name="price" [(ngModel)]="requested_data.Price" required
                    placeholder="Enter price" />
            </div>

            <div class="form-group">
                <label>Stock Quantity *</label>
                <input type="number" name="stock" [(ngModel)]="requested_data.Stock" required
                    placeholder="Enter stock quantity" />
            </div>

            <div class="form-group full-width">
                <label>Description</label>
                <textarea name="description" [(ngModel)]="requested_data.Description"
                    placeholder="Enter product description"></textarea>
            </div>

            <!-- <div class="form-group full-width">
                <label>Upload Image</label>
                <input type="file" name="image" (change)="onFileChange($event)" />
                <div class="preview mt-2" *ngIf="previewUrl">
                    <img [src]="previewUrl" alt="Product Image" />
                </div>
            </div> -->

        </div>

        <!-- Actions -->
        <div class="form-actions">
            <button type="submit" class="btn-primary" [disabled]="ProductEditForm.invalid">
                Save Changes
            </button>
            <a href="/products/view" class="btn-secondary">Cancel</a>
        </div>

    </form>
</div>